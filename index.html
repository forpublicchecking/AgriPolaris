<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商品選択</title>
    <link rel="stylesheet" href="css/styles.css"> <!-- CSSファイルをリンク -->
    <script src="js/script.js" defer></script> <!-- JavaScriptファイルをリンク -->

</head>
<body>

<header>
    <div class="progress-bar">
        <div class="progress-bar-active-color container-1">①選択</div>
        <div class="progress-bar-nonactive-color container-1">②確認</div>
        <div class="progress-bar-nonactive-color container-1">③完了</div>
    </div>
    <div class="total">
        <div class="container-1">合計金額 (¥)</div>
        <div class="container-2" id="totalAmount">0</div>
    </div>
</header>

<div>
    <!--
    <button class="container-1 forward-button" onclick="hiddenCard(), navigate_register()">レジに進む</button>
    <button class="container-1 forward-button" onclick="hiddenCard()">レジに進む</button>
    
    -->
    <button class="container-1 forward-button" onclick="navigate_register()">レジに進む</button>
    <button class="container-1 back-button" onclick="index_buy()">戻る</button>
</div>


<div class="product-container">
    <div class="product-card" id="product-card1" onclick="addProduct(1, cost_carrot)">
        <h3>にんじん</h3>
        <img src="img/carrot.png" alt="にんじん" class="product-image">
        <p>¥100</p>
        <div class="overlay" id="overlay1">0</div>
        <div class="quantity-controls" id="quantityControls1">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_carrot, 1)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_carrot, 1)">+</button>
        </div>
    </div>
    <div class="product-card" id="product-card2" onclick="addProduct(2, cost_radish)">
        <h3>大根</h3>
        <img src="img/radish.png" alt="だいこん" class="product-image">
        <p>¥150</p>
        <div class="overlay" id="overlay2">0</div>
        <div class="quantity-controls" id="quantityControls2">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_radish, 2)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_radish, 2)">+</button>
        </div>
    </div>
    <div class="product-card" id="product-card3" onclick="addProduct(3, cost_cabbage)">
        <h3>キャベツ</h3>
        <img src="img/cabbage.png" alt="きゃべつ" class="product-image">
        <p>¥200</p>
        <div class="overlay" id="overlay3">0</div>
        <div class="quantity-controls" id="quantityControls3">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_cabbage, 3)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_cabbage, 3)">+</button>
        </div>
    </div>
    <div class="product-card" id="product-card4" onclick="addProduct(4, cost_broccoli)">
        <h3>ブロッコリー</h3>
        <img src="img/broccoli.png" alt="ブロッコリー" class="product-image">
        <p>¥200</p>
        <div class="overlay" id="overlay4">0</div>
        <div class="quantity-controls" id="quantityControls4">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_broccoli, 4)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_broccoli, 4)">+</button>
        </div>
    </div>
    <div class="product-card" id="product-card5" onclick="addProduct(5, cost_tomato)">
        <h3>トマト</h3>
        <img src="img/tomato_red.png" alt="トマト" class="product-image">
        <p>¥150</p>
        <div class="overlay" id="overlay5">0</div>
        <div class="quantity-controls" id="quantityControls5">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_tomato, 5)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_tomato, 5)">+</button>
        </div>
    </div>
    <div class="product-card" id="product-card6" onclick="addProduct(6, cost_chinese_cab)">
        <h3>白菜</h3>
        <img src="img/chinesecabbage.png" alt="白菜" class="product-image">
        <p>¥250</p>
        <div class="overlay" id="overlay6">0</div>
        <div class="quantity-controls" id="quantityControls6">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_chinese_cab, 6)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_chinese_cab, 6)">+</button>
        </div>
    </div>
    <div class="product-card" id="product-card7" onclick="addProduct(7, cost_eggplant)">
        <h3>なす</h3>
        <img src="img/eggplant.png" alt="なす" class="product-image">
        <p>¥70</p>
        <div class="overlay" id="overlay7">0</div>
        <div class="quantity-controls" id="quantityControls7">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_eggplant, 7)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_eggplant, 7)">+</button>
        </div>
    </div>
    <div class="product-card" id="product-card8" onclick="addProduct(8, cost_green_papper)">
        <h3>ピーマン</h3>
        <img src="img/greenpapper.png" alt="ピーマン" class="product-image">
        <p>¥50</p>
        <div class="overlay" id="overlay8">0</div>
        <div class="quantity-controls" id="quantityControls8">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_green_papper, 8)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_green_papper, 8)">+</button>
        </div>
    </div>
    <div class="product-card" id="product-card9" onclick="addProduct(9, cost_onion)">
        <h3>玉ねぎ</h3>
        <img src="img/onion.png" alt="玉ねぎ" class="product-image">
        <p>¥30</p>
        <div class="overlay" id="overlay9">0</div>
        <div class="quantity-controls" id="quantityControls9">
            <button class="quantity-button" onclick="changeQuantity(-1, cost_onion, 9)">-</button>
            <button class="quantity-button" onclick="changeQuantity(1, cost_onion, 9)">+</button>
        </div>
    </div>
</div>
<script>
    function sessionInit(){
        if (sessionStorage.length == 0){
            const productCards = document.querySelectorAll('.product-card');
            productCards.forEach(card => {
                const overlay = card.querySelector('.overlay');
                sessionStorage.setItem(card.id, overlay.innerText);
            });
        }
    }

    sessionInit();
</script>

</body>
</html>
